ENCOR_LAB_OSPF

R1
enable 
configure terminal
hostname R1
interface e0/0
no switchport
ip address 10.1.100.1 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 1.1.1.1 255.0.0.0
exit
router ospf 1
router-id 0.0.0.1
network 10.1.100.0 0.0.0.255 area 10
network 1.0.0.0 0.0.0.255 area 10
exit

R2
enable 
configure terminal
hostname R2
interface e0/0
no switchport
ip address 10.1.100.2 255.255.255.0
no shutdown
exit
interface s1/0
no switchport
ip address 10.1.25.2 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 2.2.2.2 255.0.0.0
exit
router ospf 1
router-id 0.0.0.2
network 10.1.100.0 0.0.0.255 area 10
network 10.1.25.0 0.0.0.255 area 10
network 2.0.0.0 0.0.0.255 area 10
exit

R3
enable 
configure terminal
hostname R3
interface e0/0
no switchport
ip address 10.1.100.3 255.255.255.0
no shutdown
exit
interface e0/1
no switchport
ip address 10.1.103.3 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 3.3.3.3 255.0.0.0
exit
router ospf 1
router-id 0.0.0.3
network 10.1.100.0 0.0.0.255 area 10
network 10.1.103.0 0.0.0.255 area 10
network 3.0.0.0 0.0.0.255 area 10
exit

R4
enable 
configure terminal
hostname R4
interface e0/0
no switchport
ip address 10.1.103.4 255.255.255.0
no shutdown
exit
interface s1/0
no switchport
ip address 10.1.45.4 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 4.4.4.4 255.0.0.0
exit
router ospf 1
router-id 0.0.0.4
network 10.1.103.0 0.0.0.255 area 10
network 10.1.45.0 0.0.0.255 area 10
network 4.0.0.0 0.0.0.255 area 10
exit

R5
enable 
configure terminal
hostname R5
interface s1/0
no switchport
ip address 10.1.25.5 255.255.255.0
no shutdown
exit
interface s1/1
no switchport
ip address 10.1.45.5 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 5.5.5.5 255.0.0.0
exit
router ospf 1
router-id 0.0.0.5
network 10.1.25.0 0.0.0.255 area 10
network 10.1.45.0 0.0.0.255 area 10
network 5.0.0.0 0.0.0.255 area 10
exit

R6
enable 
configure terminal
hostname R6
interface e0/0
no switchport
ip address 10.1.103.6 255.255.255.0
no shutdown
exit
interface e0/1
no switchport
ip address 10.1.67.6 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 6.6.6.6 255.0.0.0
exit
router ospf 1
router-id 0.0.0.6
network 10.1.103.0 0.0.0.255 area 10
network 10.1.67.0 0.0.0.255 area 10
network 6.0.0.0 0.0.0.255 area 10
exit

R7
enable 
configure terminal
hostname R7
interface e0/0
no switchport
ip address 10.1.67.7 255.255.255.0
no shutdown
exit
interface e0/1
no switchport
ip address 10.1.78.7 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 7.7.7.7 255.0.0.0
exit
router ospf 1
router-id 0.0.0.7
network 10.1.67.0 0.0.0.255 area 10
network 10.1.78.0 0.0.0.255 area 0
network 7.0.0.0 0.0.0.255 area 10
exit

R8
enable 
configure terminal
hostname R8
interface e0/0
no switchport
ip address 10.1.78.8 255.255.255.0
no shutdown
exit
interface e0/1
no switchport
ip address 10.1.89.8 255.255.255.0
no shutdown
exit
interface e0/2
no switchport
ip address 10.1.128.8 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 8.8.8.8 255.0.0.0
exit
router ospf 1
router-id 0.0.0.8
network 10.1.78.0 0.0.0.255 area 0
network 10.1.89.0 0.0.0.255 area 0
network 8.0.0.0 0.0.0.255 area 0
exit

R9
enable 
configure terminal
hostname R9
interface e0/0
no switchport
ip address 10.1.89.9 255.255.255.0
no shutdown
exit
interface e0/1
no switchport
ip address 10.1.119.9 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 9.9.9.9 255.0.0.0
exit
router ospf 1
router-id 0.0.0.9
network 10.1.89.0 0.0.0.255 area 0
network 10.1.119.0 0.0.0.255 area 20
network 9.0.0.0 0.0.0.255 area 0
exit

R10
enable 
configure terminal
hostname R10
interface e0/0
no switchport
ip address 10.1.100.10 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 100.100.100.100 255.0.0.0
exit
router ospf 1
router-id 0.0.0.100
network 10.1.100.0 0.0.0.255 area 10
network 100.0.0.0 0.0.0.255 area 10
exit

R11
enable 
configure terminal
hostname R11
interface e0/0
no switchport
ip address 10.1.119.11 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 11.11.11.11 255.0.0.0
exit
router ospf 1
router-id 0.0.0.11
network 10.1.119.0 0.0.0.255 area 0
exit

R12
enable 
configure terminal
hostname R12
interface e0/0
no switchport
ip address 10.1.128.12 255.255.255.0
no shutdown
exit
interface loopback 0
ip address 12.12.12.12 255.0.0.0
exit
router eigrp 1
network 10.1.128.0
network 12.0.0.0
____________________________________________________________________

Make R2 DR in segment 10.1.100.0/24

R2
enable
configure terminal
interface e0/0
ip ospf priority 10

Clear ip ospf process on current DR/BDR

______________________________________________________________________

Make the link from R6 to R7 as P-2-P

R6
enable
configure terminal
interface e0/1
ip ospf network point-to-point

R7
enable
configure terminal
interface e0/1
ip ospf network point-to-point

_____________________________________________________________________


Metric in ospf:

10^8 / BWin bits/sec

10^8/10,000,000 = 10

Serial: 10^8/1544,000 = 64


____________________________________________________________________________

Enable EIGRP/OSPF mutual route redistribution on R8

- OSPF has a default metric for external routes which is 20 by default

- OSPF routes from any other dynamic routing protocol requires a seed metric

- Seed metric is initial metric which is required during redistribution of routes from any other dynamic routing protocol into OSPF.

R8
enable
configure terminal
router ospf 1
redistribute eigrp 1
exit
router eigrp 1
redistribtute ospf 1
default-metric 10 10 10 10 10

_____________________________________________

Information we get in LSA are based on:
 
Interface Type: Point-2-Point[Ethernet Links](P-2-P)
Link ID: Router ID of the adjacent peer
Link Data: IP address of the local routers interface

Interface Type: Broadcast Multicast(Transit)
Link ID: Interface address of that segments DR
Link Data: IP address of the local routers interface

Interface Type: Loopback/Passive Interface/Actual Point-To-Point[Serial Links](Stub)
Link ID: Network number of the subnet
Link Data: Subnet Mask

Interface Type: Virtual Link(Virtual Link)
Link ID: Router ID of the adjacent peer
Link Data: IP address of the local routers interface



